
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../controllers/">
      
      
        <link rel="next" href="../term_models/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.0">
    
    
      
        <title>Post models - OffbeatWP</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.402914a4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#post-models" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="OffbeatWP" class="md-header__button md-logo" aria-label="OffbeatWP" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OffbeatWP
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Post models
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../introduction/what-is-offbeatwp/" class="md-tabs__link">
        Introduction
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../post_types/" class="md-tabs__link md-tabs__link--active">
        How to
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="OffbeatWP" class="md-nav__button md-logo" aria-label="OffbeatWP" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    OffbeatWP
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Introduction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Introduction
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../introduction/what-is-offbeatwp/" class="md-nav__link">
        What is OffbeatWP
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          Gettings started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Gettings started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../introduction/getting-started/installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../introduction/getting-started/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../introduction/getting-started/directory-structure/" class="md-nav__link">
        Directory structure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../introduction/getting-started/deploying/" class="md-nav__link">
        Deploying
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
      
      
      
        <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
          Architecture Concepts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Architecture Concepts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../introduction/concepts/container/" class="md-nav__link">
        Container
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../introduction/concepts/services/" class="md-nav__link">
        Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../introduction/concepts/components/" class="md-nav__link">
        Components
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          How to
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          How to
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
          The Basics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          The Basics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../post_types/" class="md-nav__link">
        Post Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../taxonomies/" class="md-nav__link">
        Taxonomies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../routing/" class="md-nav__link">
        Routing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../controllers/" class="md-nav__link">
        Controllers
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Post models
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Post models
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creating-a-model" class="md-nav__link">
    Creating a model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-data-from-a-model" class="md-nav__link">
    Getting data from a model
  </a>
  
    <nav class="md-nav" aria-label="Getting data from a model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getpreviouspostfalse" class="md-nav__link">
    getPreviousPost(false, '', '')
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getnextpostfalse" class="md-nav__link">
    getNextPost(false, '', '')
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getid" class="md-nav__link">
    getId()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getchildren" class="md-nav__link">
    getChildren()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gettitle" class="md-nav__link">
    getTitle()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getcontent" class="md-nav__link">
    getContent()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getslug" class="md-nav__link">
    getSlug()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getpermalink" class="md-nav__link">
    getPermalink()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getpostdateformat" class="md-nav__link">
    getPostDate($format = '')
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getexcerpt" class="md-nav__link">
    getExcerpt()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getauthor" class="md-nav__link">
    getAuthor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getmetakey-single-true" class="md-nav__link">
    getMeta($key, $single = true)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setmetakey-value" class="md-nav__link">
    setMeta($key, $value)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gettermstaxonomy-args" class="md-nav__link">
    getTerms(taxonomy, $args = [])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hasfeaturedimage" class="md-nav__link">
    hasFeaturedImage()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getfeaturedimagesize-thumbnail-attr" class="md-nav__link">
    getFeaturedImage($size = 'thumbnail', $attr = [])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getfeaturedimageurlsize-thumbnail" class="md-nav__link">
    getFeaturedImageUrl($size = 'thumbnail')
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getfeaturedimageid" class="md-nav__link">
    getFeaturedImageId()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    setup()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emd" class="md-nav__link">
    emd()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-post-type-ordering" class="md-nav__link">
    Default post type ordering
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#macro" class="md-nav__link">
    Macro
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#associating-a-post-type-to-a-model" class="md-nav__link">
    Associating a post-type to a model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-posts" class="md-nav__link">
    Getting posts
  </a>
  
    <nav class="md-nav" aria-label="Getting posts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#filtering-posts" class="md-nav__link">
    Filtering posts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ordering-posts" class="md-nav__link">
    Ordering posts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collections" class="md-nav__link">
    Collections
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relationships" class="md-nav__link">
    Relationships
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../term_models/" class="md-nav__link">
        Term models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../views/" class="md-nav__link">
        Views
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../modules/" class="md-nav__link">
        Modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../repositories/" class="md-nav__link">
        Repositories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../components/" class="md-nav__link">
        Components
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../forms/" class="md-nav__link">
        Forms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../relationships/" class="md-nav__link">
        Relationships
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../globals/" class="md-nav__link">
        Globals
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
      
        <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          Assets
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Assets
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../assets/compile/" class="md-nav__link">
        Compile
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creating-a-model" class="md-nav__link">
    Creating a model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-data-from-a-model" class="md-nav__link">
    Getting data from a model
  </a>
  
    <nav class="md-nav" aria-label="Getting data from a model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getpreviouspostfalse" class="md-nav__link">
    getPreviousPost(false, '', '')
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getnextpostfalse" class="md-nav__link">
    getNextPost(false, '', '')
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getid" class="md-nav__link">
    getId()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getchildren" class="md-nav__link">
    getChildren()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gettitle" class="md-nav__link">
    getTitle()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getcontent" class="md-nav__link">
    getContent()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getslug" class="md-nav__link">
    getSlug()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getpermalink" class="md-nav__link">
    getPermalink()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getpostdateformat" class="md-nav__link">
    getPostDate($format = '')
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getexcerpt" class="md-nav__link">
    getExcerpt()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getauthor" class="md-nav__link">
    getAuthor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getmetakey-single-true" class="md-nav__link">
    getMeta($key, $single = true)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setmetakey-value" class="md-nav__link">
    setMeta($key, $value)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gettermstaxonomy-args" class="md-nav__link">
    getTerms(taxonomy, $args = [])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hasfeaturedimage" class="md-nav__link">
    hasFeaturedImage()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getfeaturedimagesize-thumbnail-attr" class="md-nav__link">
    getFeaturedImage($size = 'thumbnail', $attr = [])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getfeaturedimageurlsize-thumbnail" class="md-nav__link">
    getFeaturedImageUrl($size = 'thumbnail')
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getfeaturedimageid" class="md-nav__link">
    getFeaturedImageId()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    setup()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emd" class="md-nav__link">
    emd()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-post-type-ordering" class="md-nav__link">
    Default post type ordering
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#macro" class="md-nav__link">
    Macro
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#associating-a-post-type-to-a-model" class="md-nav__link">
    Associating a post-type to a model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-posts" class="md-nav__link">
    Getting posts
  </a>
  
    <nav class="md-nav" aria-label="Getting posts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#filtering-posts" class="md-nav__link">
    Filtering posts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ordering-posts" class="md-nav__link">
    Ordering posts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collections" class="md-nav__link">
    Collections
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relationships" class="md-nav__link">
    Relationships
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="post-models">Post Models</h1>
<p>Models are one of the cool features of OffbeatWP. It makes "The Loop" obsolete and gives a much more intuitive way of getting data from a post or term like the title, content or url.</p>
<p>OffbeatWP has two important types of models:
1. Post models 
    A post model represents a post in a specific post type
2. <a href="../term_models/">Term Models</a>
    A term model represents a term in a specific taxonomy</p>
<p>A post model represents a post of a specific post type. Below an example of a post model:</p>
<div class="highlight"><pre><span></span><code><span class="k">namespace</span> <span class="nx">App\Models</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">OffbeatWP\Content\Post\PostModel</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">WpPostModel</span> <span class="k">extends</span> <span class="nx">PostModel</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">const</span> <span class="no">POST_TYPE</span> <span class="o">=</span> <span class="s1">&#39;post&#39;</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">const</span> <span class="no">ORDER_BY</span> <span class="o">=</span> <span class="s1">&#39;menu_order&#39;</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">const</span> <span class="no">ORDER</span> <span class="o">=</span> <span class="s1">&#39;ASC&#39;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>It is easy to extend the model so you can get the data of a post in a readable and intuitive way. If you have a post type for <code>events</code> it would be great to have a getter just for this:</p>
<div class="highlight"><pre><span></span><code><span class="k">namespace</span> <span class="nx">App\Models</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">OffbeatWP\Content\Post\PostModel</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">EventModel</span> <span class="k">extends</span> <span class="nx">PostModel</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">const</span> <span class="no">POST_TYPE</span> <span class="o">=</span> <span class="s1">&#39;event&#39;</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getEventDate</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getMeta</span><span class="p">(</span><span class="s1">&#39;event_date&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Now you can can easy get the post' event date by doing <code>$event-&gt;getEventDate();</code>. In twig it even shorter: <code>{{ event.eventdate }}</code>.</p>
<h2 id="creating-a-model">Creating a model</h2>
<p>To create a model you can use the CLI-command:</p>
<div class="highlight"><pre><span></span><code>wp<span class="w"> </span>offbeatwp<span class="w"> </span>make-postmodel<span class="w"> </span><span class="o">{</span>name<span class="o">}</span><span class="w"> </span>--post_type<span class="o">=</span><span class="s2">&quot;{post_type}&quot;</span>
</code></pre></div>
<p>If you want to create a model for a module you can do this by adding <code>--module={module_name}</code> to the command like:</p>
<div class="highlight"><pre><span></span><code>wp<span class="w"> </span>offbeatwp<span class="w"> </span>make-postmodel<span class="w"> </span><span class="o">{</span>name<span class="o">}</span><span class="w"> </span>--post_type<span class="o">={</span>post_type<span class="o">}</span>--module<span class="o">={</span>module_name<span class="o">}</span>
</code></pre></div>
<h2 id="getting-data-from-a-model">Getting data from a model</h2>
<p>By default the PostModel comes with the following methods to get data from the post:</p>
<h4 id="getpreviouspostfalse"><code>getPreviousPost(false, '', '')</code></h4>
<p>Get the previous post</p>
<h4 id="getnextpostfalse"><code>getNextPost(false, '', '')</code></h4>
<p>Get the next post (you can use all the methods below)</p>
<h4 id="getid"><code>getId()</code></h4>
<p>Get children of post</p>
<h4 id="getchildren"><code>getChildren()</code></h4>
<p>Get the id of the post</p>
<h4 id="gettitle"><code>getTitle()</code></h4>
<p>Get the title of the post</p>
<h4 id="getcontent"><code>getContent()</code></h4>
<p>Get the content of the post</p>
<h4 id="getslug"><code>getSlug()</code></h4>
<p>Get the post' post_name / slug</p>
<h4 id="getpermalink"><code>getPermalink()</code></h4>
<p>Get the post' url</p>
<h4 id="getpostdateformat"><code>getPostDate($format = '')</code></h4>
<p>Get the id of the post</p>
<h4 id="getexcerpt"><code>getExcerpt()</code></h4>
<p>Get the excerpt of the post</p>
<h4 id="getauthor"><code>getAuthor()</code></h4>
<p>Get the author of the post</p>
<h4 id="getmetakey-single-true"><code>getMeta($key, $single = true)</code></h4>
<p>Get a meta value of the post. The first attribute is the key to the meta. The second parameter is if you desire a single or multiple responses. Single is the default.</p>
<h4 id="setmetakey-value"><code>setMeta($key, $value)</code></h4>
<p>Setting a meta to the post. The argument is the key, the second the value of the meta.</p>
<h4 id="gettermstaxonomy-args"><code>getTerms(taxonomy, $args = [])</code></h4>
<p>Get the terms of the post by taxonomy. The first argument is the taxonomy. With the second parameter, you can set some additional arguments. These arguments are equal to the <a href="https://developer.wordpress.org/reference/classes/wp_term_query/__construct/">WP_Term_Query::__construct</a> method.</p>
<h4 id="hasfeaturedimage"><code>hasFeaturedImage()</code></h4>
<p>Check if the post has a featured image. Returns true or false.</p>
<h4 id="getfeaturedimagesize-thumbnail-attr"><code>getFeaturedImage($size = 'thumbnail', $attr = [])</code></h4>
<p>Returns html (img-tag) of the post' featured image. With the first argument you can define the size, the second you send arguments which are equal to <a href="https://developer.wordpress.org/reference/functions/get_the_post_thumbnail/">get_the_post_thumbnail</a></p>
<h4 id="getfeaturedimageurlsize-thumbnail"><code>getFeaturedImageUrl($size = 'thumbnail')</code></h4>
<p>Get the post' featured image url</p>
<h4 id="getfeaturedimageid"><code>getFeaturedImageId()</code></h4>
<p>Get the post' featured image id. Returns false if the post has no featured image.</p>
<h4 id="setup"><code>setup()</code></h4>
<p>If some plugin or other implementation requires a post to be in "the loop" you can run this method. </p>
<h4 id="emd"><code>emd()</code></h4>
<p>Ends "The loop"</p>
<h3 id="default-post-type-ordering">Default post type ordering</h3>
<p>You can add the constant <code>ORDER</code> and <code>ORDER_BY</code> to a model. Now every time you are getting posts this ordering is applied.</p>
<h2 id="macro">Macro</h2>
<p>You can extend any post model from outside the model itself. This is called a macro. We have a <a href="https://github.com/offbeatwp/acf">independent service</a> to integrate [Advanded Custom Fields }(https://www.advancedcustomfields.com/pro/) with OffbeatWP. Within the post model, we want to be able to easily get an ACF field. The service contains the following <code>macro</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nx">PostModel</span><span class="o">::</span><span class="na">macro</span><span class="p">(</span><span class="s1">&#39;getField&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nv">$format</span> <span class="o">=</span> <span class="k">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">get_field</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getId</span><span class="p">(),</span> <span class="nv">$format</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>Now we can easily access the post' ACF field be doing:</p>
<div class="highlight"><pre><span></span><code><span class="nx">post</span><span class="o">.</span><span class="nx">getField</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">)</span>
</code></pre></div>
<h2 id="associating-a-post-type-to-a-model">Associating a post-type to a model</h2>
<p>OffbeatWP maps posts to the related model. But to make this possible we have to register the models. When you register the post type within your theme you can do this all at once as <a href="../post_types/">explained here</a>. But if the post_type is Building (like post and page), or is defined within a plugin you have to do this by:</p>
<div class="highlight"><pre><span></span><code><span class="nx">offbeat</span><span class="p">(</span><span class="s1">&#39;post-type&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">registerPostModel</span><span class="p">(</span><span class="s1">&#39;post&#39;</span><span class="p">,</span> <span class="nx">\App\Models\WpPostModel</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
</code></pre></div>
<p>The first argument is the post_type and the second the PostModel.</p>
<h2 id="getting-posts">Getting posts</h2>
<p>You can get posts from the model just by doing the following:</p>
<div class="highlight"><pre><span></span><code><span class="nx">WpPostModel</span><span class="o">::</span><span class="na">query</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
</code></pre></div>
<p>This will get you the number of posts as configured in the WordPress settings (Settings &gt; Reading).</p>
<div class="highlight"><pre><span></span><code><span class="nx">WpPostModel</span><span class="o">::</span><span class="na">query</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
</code></pre></div>
<p>Get a paginated version of the postModel</p>
<div class="highlight"><pre><span></span><code><span class="nx">WpPostModel</span><span class="o">::</span><span class="na">query</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">paginated</span><span class="p">()</span>
</code></pre></div>
<p>Get posts except from the Id's you have added </p>
<div class="highlight"><pre><span></span><code><span class="nx">WpPostModel</span><span class="o">::</span><span class="na">query</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">whereIdNotIn</span><span class="p">(</span><span class="nv">$ids</span><span class="p">);</span>
</code></pre></div>
<p>This will get you all the posts.</p>
<div class="highlight"><pre><span></span><code><span class="nx">WpPostModel</span><span class="o">::</span><span class="na">query</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">take</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</code></pre></div>
<p>This will get you the first 5 posts. </p>
<div class="highlight"><pre><span></span><code><span class="nx">WpPostModel</span><span class="o">::</span><span class="na">query</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">first</span><span class="p">();</span>
</code></pre></div>
<p>This will get you the first post.</p>
<div class="highlight"><pre><span></span><code><span class="nx">WpPostModel</span><span class="o">::</span><span class="na">query</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">findbyId</span><span class="p">(</span><span class="nv">$id</span><span class="p">);</span>
</code></pre></div>
<p>Find a post by id.</p>
<p>Alternatively, you can use the following shorthand to get a post by it's ID:
<div class="highlight"><pre><span></span><code><span class="nx">PostModel</span><span class="o">::</span><span class="na">find</span><span class="p">(</span><span class="nv">$id</span><span class="p">);</span>
</code></pre></div></p>
<h3 id="filtering-posts">Filtering posts</h3>
<p>OffbeatWP comes with a variety of methods to filter your posts:</p>
<div class="highlight"><pre><span></span><code><span class="nx">where</span><span class="p">(</span><span class="nv">$args</span><span class="p">)</span>
</code></pre></div>
<p>The arguments are equal to <a href="https://codex.wordpress.org/Class_Reference/WP_Query">WP_Query</a>. But since this won't make your code very readable we do not recommend this filter.</p>
<div class="highlight"><pre><span></span><code><span class="nx">whereTerm</span><span class="p">(</span><span class="nv">$taxonomy</span><span class="p">,</span> <span class="nv">$terms</span> <span class="o">=</span> <span class="p">[],</span> <span class="nv">$field</span> <span class="o">=</span> <span class="s1">&#39;slug&#39;</span><span class="p">,</span> <span class="nv">$operator</span> <span class="o">=</span> <span class="s1">&#39;IN&#39;</span><span class="p">)</span>
</code></pre></div>
<p>Filter the posts by a term. </p>
<div class="highlight"><pre><span></span><code><span class="nx">whereDate</span><span class="p">(</span><span class="nv">$args</span><span class="p">)</span>
</code></pre></div>
<p>Filter the posts by date. Arguments are equal to <a href="https://codex.wordpress.org/Class_Reference/WP_Query#Date_Parameters">WP_Query::data_query</a></p>
<div class="highlight"><pre><span></span><code> <span class="k">return</span> <span class="nv">$baseModel</span><span class="o">-&gt;</span><span class="na">whereMeta</span><span class="p">([</span>
                <span class="p">[</span>
                    <span class="s1">&#39;relation&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;OR&#39;</span><span class="p">,</span>
                    <span class="p">[</span>
                        <span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;my_key&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;value&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;compare&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;!=&#39;</span>
                    <span class="p">],</span>
                    <span class="p">[</span>
                        <span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;my_key&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;compare&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;NOT EXISTS&#39;</span>
                    <span class="p">],</span>
                <span class="p">]</span>
            <span class="p">])</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>
</code></pre></div>
<p>Filter the posts by meta.</p>
<hr />
<p>Those filters can be chained like:</p>
<div class="highlight"><pre><span></span><code><span class="nx">WpPostModel</span><span class="o">::</span><span class="na">query</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">whereTerm</span><span class="p">(</span><span class="s1">&#39;tags&#39;</span><span class="p">,</span> <span class="s1">&#39;awesome&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">whereMeta</span><span class="p">(</span><span class="s1">&#39;great&#39;</span><span class="p">,</span> <span class="s1">&#39;NOT&#39;</span><span class="p">,</span> <span class="s1">&#39;!=&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
</code></pre></div>
<p>This will get you <em>all</em> the posts having the tag "awesome" and where meta "great" is not equal to "NOT". The <code>-&gt;all()</code> could also be substitued by <code>-&gt;take(5)</code>, <code>-&gt;first()</code>.</p>
<h3 id="ordering-posts">Ordering posts</h3>
<p>Ordering posts can be done by adding <code>-&gt;order($order_by, $order)</code> to the chain, like:</p>
<div class="highlight"><pre><span></span><code><span class="nx">WpPostModel</span><span class="o">::</span><span class="na">query</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">whereTerm</span><span class="p">(</span><span class="s1">&#39;tags&#39;</span><span class="p">,</span> <span class="s1">&#39;awesome&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">order</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;ASC&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">take</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
</code></pre></div>
<p>This will get you the first 5 results of all posts the tag "awesome", ordered by id (ascending).</p>
<p>To order by <em>meta</em> give as first argument <code>meta:{meta_key}</code> or to order as number <code>meta_num:{meta_key}</code></p>
<h3 id="collections">Collections</h3>
<p>The <code>get</code>, <code>take</code> and <code>all</code> methods return a Collection. OffbeatWP uses the <a href="https://laravel.com/docs/5.7/collections">Laravel Collection</a> which gives you an awesome toolset.</p>
<p>A collection is iterable, meaning that you can just loop over it in a foreach loop. This is really helpful within your template. Just can just send the collection to your view and loop over it with twig-like:</p>
<div class="highlight"><pre><span></span><code><span class="cp">{%</span> <span class="k">for</span> <span class="nv">event</span> <span class="k">in</span> <span class="nv">events</span> <span class="cp">%}</span>
<span class="x">    &lt;h3&gt;</span><span class="cp">{{</span> <span class="nv">event.title</span> <span class="cp">}}</span><span class="x">&lt;/h3&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</code></pre></div>
<h2 id="relationships">Relationships</h2>
<p>We made it possible to make relationships between posts, and query them fast. You can read more about it <a href="../relationships/">here</a>.</p>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "content.tooltips", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.ce72ebac.min.js"></script>
      
    
  </body>
</html>